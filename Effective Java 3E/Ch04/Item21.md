# 아이템 21. 인터페이스는 구현하는 쪽을 생각해 설계하라
```java
public interface Animal {
    void walk();
    void bark();
}

public class Dog implements Animal {

    @Override
    public void walk() {
        System.out.println("뚜벅 뚜벅");
    }
    
    @Override
    public void bark() {
        System.out.println("멍멍");
    }
}
```

위와 같이 `Animal` 인터페이스를 구현한 `Dog` 클래스가 있다.

만약 이 상태에서 `Animal` 인터페이스에 새로운 `eat()`라는 메소드를 추가하면 어떤 일이 일어날까?

`Dog` 클래스에는 `eat()`를 구현하지 않았기 때문에 컴파일 오류가 발생할 것이다.

이러한 문제를 해결하기 위해 `Java 8`에 `Default` 메소드를 추가할 수 있게 되었지만 위험이 완전히 사라진 것은 아니다.

<br>

## `Default` 메소드의 위험
`Java 8`에서 `Default` 메소드가 추가되었지만 그 이전에 작성된 클래스들은 이러한 `Default` 메소드를 전혀 염두해두지 않은 채 작성되었다.

어떤 클래스가 구현한 인터페이스의 `Default` 메소드가 모두 정상 동작한다는 보장이 없다.
- `Default` 메소드와 동일한 클래스의 메소드가 존재할 수도 있는 것

#### 모든 상황에서 불변식을 해치지 않는 `Default` 메소드를 작성하는 것은 어렵다.

<br>

#### `Default` 메소드는 기존 구현체에 런타임 에러를 일으킬 수 있다.

`Default` 메소드를 추가하는 것은 해당 인터페이스를 구현한 모든 클래스에 영향을 줄 수 있기 때문에 꼭 필요한 경우가 아니면 피해야한다!

기존에 추가하는 것이 아닌 새로운 인터페이스를 만들 때의 `Default` 메소드는 매우 좋은 수단이다.

<br>

-----------------------------

<br>

### 인터페이스를 설계할 때는 세심한 주의를 기울이자!
`Default` 메소드를 기존 인터페이스에 추가하는 것은 많은 위험이 동반된다.

새로운 인터페이스는 릴리즈전에 반드시 테스트를 통해 문제가 없는지 확인해야한다.
- 여러 방식으로 구현
- 인터페이스의 인스턴스를 활용하는 클라이언트를 통한 테스트
