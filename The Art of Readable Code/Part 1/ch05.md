# 5. 주석에 담아야 하는 대상

#### 주석의 목적은 코드를 읽는 사람이 코드를 작성한 사람만큼 코드를 이해하도록 도와주는 것이다!

--------------------------------------------------------

<br>

## 설명하지 말아야 하는 것

```java
public class Account {

  // 생성자
  public Account() {
  }
  
  // profit에 새로운 값을 설정
  public void setProfit(double profit) {
  }
  
  // profit을 반환
  public double getProfit(){
  }
}
```

위 예시에서 주석은 아무런 도움이 되지 않는 주석이다.

이렇게 **코드에서 빠르게 유추할 수 있는 내용은 주석으로 달지 말자!**

<br>

#### 부적절하게 지은 함수명에 대한 변명을 위한 주석은 좋지 않다. 차라리 함수명을 변경하라!!
```
// 해당 키를 위한 핸들을 놓아준다. 실제 레지스트리는 수정되지 않는다.
void deleteRegistry(RegistryKey key);
```
언뜻봐서는 Registry를 Delete하는 함수라고 생각할 수 있지만 실제로는 그렇지 않고, 이를 대신하기 위한 주석을 다는 것은 좋은 방법이 아니다.

차라리 함수명을 변경하자

```
void releaseRegistryHandle(RegistryKey key);
```

#### `좋은 코드 > 나쁜 코드 + 좋은 주석`

<br>
<br>

## 생각을 기록하라

코드를 작성할 때의 **자신의 생각**을 기록하는 것만으로도 **좋은 주석**이 될 수 있다!!

```
//이 데이터에서 이진트리는 해시 테이블보다 40% 빠르다.
//이 클래스는 점점 복잡해지고 있다. 어쩌면 하위 클래스를 만들어 복잡도를 줄여야할 수도 있다.
```

<br>

**현재의 코드는 현재에서 최적의 코드이며 우리는 항상 레거시(legacy)를 만들고 있다.**

따라서, 코드는 지속적으로 변화/진화하며 그 과정에서 `Bug`를 가지는 것이 당연하다.

이를 부끄러워하지말고 개선사항을 주석으로 남기는 것도 **좋은 주석**이 될 수 있다.

```
//TODO : 더 빠른 알고리즘을 사용하라
//TODO : JPEG말고 다른 포맷도 처리할 수 있어야한다.
```
- TODO : 아직 하지 않은 일, 해야하는 일
- FIXME : 오작동을 일으킨다고 알려진 코드, 수정이 필요한 
- HACK : 적절하지 않은 해결책
- XXX : 위험!! 큰 문제가 존재

<br>

우리는 흔히 말하는 `매직넘버`를 줄이기 위해 `static final`을 통해 상수를 정의하곤한다.

상수를 정의할 때도 왜 이런 값을 정의했는지에 대한 설명이 필요할 때가 있다.

```
public static final int NUM_THREADS = 8; // 이 값은 2 * NUM_PROCESSORS보다 크거나 같으면 된다.

public static final double IMAGE_QUALITY = 0.72; // 대부분의 사용자들은 0.72가 크기/해상도 대비 최선이라고 생각한다.
```

하지만 상수명이 그 내용을 명확히 설명한다면 주석은 필요없다.
```
public static fianl int SECONDS_PER_HOUR = 3600; // 1시간은 3600초이다(?) ==> 필요없는 주석
```

<br>
<br>

## 코드를 읽는 사람의 입장이 되라

#### 나올 것 같은 질문을 예측하라

#### 사람들이 쉽게 빠질 것 같은 함정을 경고하라
![image](https://user-images.githubusercontent.com/60773356/136343825-938458c5-ebd3-4891-bdc8-556efd0c34a2.png)

코드를 사용하는 클라이언트가 겪을 수 있는 문제를 미리 주석으로 알려주자!
```
// 외부 서비스를 호출해 이메일 서비스를 호출한다.(1분 이후 Timeout되므로 주의!)
void sendEmail(String to, String subject, String body);
```

<br>

#### 큰 그림에 대한 주석
파일 수준, 상위 레벨에 대한 주석은 처음 코드를 읽는 사람에게 대략적인 구조를 알려줄 수 있다.

복잡한 메서드일 경우에도 블록 단위의 주석은 큰 그림을 이해할 수 있도록 한다.(사실 분리 가능하다면 분리하여 복잡도를 줄이는 것이 가장 좋은 방법!!)





